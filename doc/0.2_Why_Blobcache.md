# Why Blobcache?

Blobcache is the simplest possible way to securely produce and consume storage as a resource.
You install Blobcache on a device, and it allows you to share the device's storage resources with other devices, or consume storage exposed by other devices.

## The Vision

### As a Storage Producer
Users set up a fresh installation on a new server machine.
Something like a raspberry pi, or an old laptop with an external hard drive.
They then copy in their ssh key, install Blobcache, copy in their Blobcache key, and never have to install any other software on the machine.
All of their other Blobcache Nodes that need storage can connect securely to this new server and upload and download data.

Any devices that can connect storage to the network can be easily added to a Users network.


### As a Storage Consumer
A User's application stores all of its state in Blobcache.
They run a Blobcache Node on their laptop or phone.
Elsewhere they have Nodes that provide storage.
Using a VPN like Tailscale, their devices can connect to each other from anywhere, with Blobcache, their data can be E2E encrypted at rest too.

## End-To-End Encrypted (E2EE)

Blobcache's design choices encourage correct E2EE systems to be built on top of it.

## Avoiding Information Leakage

Content-addresed stores don't allow clients to set keys, only values.
The key is assigned based on the value.
That means fewer opportunities to leak things like file names.
Clients post blobs and get back hashes.
Additional metadata like a path, file mode or size could be leaked to the server.
Blobs have a fixed maximum size, which means that any large files must be broken up into smaller pieces.
That means file sizes are less likely to be leaked.  Blob sizes can still leak information, but it's less information the smaller the maximum size.

## Authenticated Encryption
Merely applying a cipher to data only helps maintain confidentiality.
To know that a given piece of data is authentic, it must also be authenticated.

The best way to accomplish both of these things together is to use a scheme that encrypts the data and then computes a message authentication code (MAC) authenticating the cipher text.
These schemes are called "Encrypt Then MAC".

Content addressed stores eliminate the need for the MAC part, at least until the root of the data structure.
Since the only way to get data out of the content-addressed store is to know the it's Content Identifier (CID).

