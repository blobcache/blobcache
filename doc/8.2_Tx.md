# `blobcache tx`

The `tx` subcommand allows operations to be performed on transactions manually, from the command line.

### `blobcache begin <volh> [--mutate] [--gc]`
Creates a new transaction on the given Volume, and prints a handle to the new transction to stdout.

#### Optional flags
- `--mutate` begin a mutable transaction (allows writes).
- `--gc` request garbage-collection work as part of the transaction.

### `blobcache tx commit <txh>`
Commits the transaction.

### `blobcache tx abort <txh>`
Aborts the transaction.

### `blobcache tx load <txh>`
Reads the Volume's cell and prints the contents to stdout.

### `blobcache tx save <txh>`
Reads from stdin until the stream is closed, then calls Save to write to the Volume's cell.

### `blobcache tx post <txh>`
Reads from stdin until the stream is closed, then call Post to add the data to the Volume's store.
Prints a CID for the data to stdout.

### `blobcache tx get <txh> <cid>`
Retrieves the blob with the given CID using Get on the given transaction.
The contents of the blob are written to stdout.

### `blobcache tx inspect <txh>`
Prints information about the transaction.

### `blobcache tx exists <txh> <cid>...`
Checks if each provided CID exists in the transaction.
Outputs one line per CID: `<cid> YES` or `<cid> NO`.

### `blobcache tx delete <txh> <cid>...`
Deletes the provided CIDs from the transaction (where permitted).

### `blobcache tx visit <txh> <cid>...`
Marks the provided CIDs as visited.

### `blobcache tx is-visited <txh> <cid>...`
Checks if each provided CID has been visited.
Outputs one line per CID: `<cid> YES` or `<cid> NO`.

### `blobcache tx link <txh> <subvol> [--mask <hex>]`
Allows a transaction to link to another volume (subvolume), with an optional hex-encoded rights mask (defaults to all rights).

### `blobcache tx unlink <txh> <oid>...`
Removes links to the provided OIDs from the transaction.

### `blobcache tx visit-links <txh> <oid>...`
Visits the links identified by the provided OIDs.
